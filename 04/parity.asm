	.CODE
	.ADDR 0x0000

INIT
	CONST R1 #0
	CONST R2 #16

LOOP
	CMPI R2 #0
	BRnz END
	AND R3 R0 #1
	BRz RESUME
	CMPI R1 #0
	BRz IFZ
	JMP IFP

IFZ
	CONST R1 #1
	JMP RESUME

IFP
	CONST R1 #0

RESUME
	SRL R0 R0 #1
	ADD R2 R2 #-1
	JMP LOOP

END